points:
  zones:
    
    outer:
      key:
      columns:
        col:
          rows:
            home:
              bind: [2, 1, 0, 0]
            top:
              bind: [0, 1, 0, 0]

      rows:
        home:
        top:
    
    matrix:
      anchor:
        ref: outer_col_home
        shift: [cx,-cy]
      columns:
        pinkie:
          key:
            spread: cx
          rows:
            bottom:
              bind: [0,40,0,0]

        ring:
          key:
            stagger: 0.5cy
            spread: cx+1.5
            splay: -4
          rows:
            top:
              bind: [0,0,0,10]

        middle:
          key:
            stagger: 0.5cy
            spread: cx+1.5
            splay: -4
          rows:
            top:
              bind: [0,10,0,0]
        index:
          key:
            stagger: -0.5cy
            spread: cx+1.5
            splay: -4
        far:
          key:
            spread: cx

      rows:
        bottom:
        home:
        top:

    thumb:
      anchor:
        ref: matrix_index_bottom
        shift: [0, -cy]
      key:
        bind: 
      rows:
        home:
      columns:
        close:
        mid:
          key:
            spread: cx + 5
            rotate: -30
            stagger: -7
        far:
          key:
            spread: cx-2
            stagger: -18
            rotate: -65

  key:
    padding: cy
    tags: 
      1u: true
    

outlines:
  raw:
    - what: rectangle
      size: [cx, cy]
      where: true
      bound: true
    - what: polygon
      points:
        - ref: thumb_far_home
          shift: [0.5cx, -8.3]
        - ref: thumb_mid_home
          shift: [1.5cx, 2]
        - ref: thumb_close_home
          shift: [-0.5cx, 2cy+33]
        - ref: thumb_close_home
          shift: [-9, -2cy]
    - what: circle
      radius: 35
      where:
        ref: thumb_far_home
        shift: [1,-45]
      operation: subtract
    - what: rectangle
      size: [60,60]
      where:
        ref: matrix_index_top
        shift: [21,-16]

  cutout:
    - what: outline
      name: raw
      fillet: 2
    
  keycaps_only:
    - what: rectangle
      size: [cx-0.5, cy-0.5]
      bound: false
      where: true
  
  preview:
    - what: outline
      name: cutout
    - what: outline
      name: keycaps_only
      operation: subtract

  raw_with_keycaps:
    - what: outline
      name: raw
    - what: outline
      name: keycaps_only
      operation: subtract

pcbs:
  my_first_board:
    outlines:
      board:
        outline: cutout
      keycaps:
        outline: preview
        layer: Eco1.User
    footprints:
      choc_hotswap:
        what: choc_hotswap
        where: true
        params:
          from: =column_net
          to: GND
          keycaps: true
          reverse: true
          hotswap: true
      choc:
        what: choc
        where: true
        adjust:
          rotate: 180
        params:
          from: =column_net
          to: GND
          keycaps: true
          reverse: true
      promicro:
        what: promicro_pretty
        where:
          ref: 
